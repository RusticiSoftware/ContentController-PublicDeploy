<?xml version="1.0" encoding="utf-8" ?>
<properties>
  <!--
    This is a patched version of Engine's built-in migrations file
    that fixes a bug that triggers an unneccesary conversion of the
    ScormRegistrationSharedDataVal table.
  -->
  <entry key="UpgradeDefinition">{{ tomcat_base }}/webapps/ScormEngineInterface/WEB-INF/fixed_scormengine_migration.xml</entry>

  <!--
    Settings for the database you are migrating from, your current database.
    If you do not provide a "target" database, the upgrade tool will perform
    the upgrade in-place.
  -->
  <src>
    <!--
      Copy DataPersistenceEngine and DatabaseConnectionString entries from
      your current Engine configuration.
    -->
    <entry key="DataPersistenceEngine">mysql</entry>
    <entry key="SystemConnectionString">jdbc:mysql://{{ cc_db_host }}/{{ engine_db_name }}?user={{ engine_db_username }}&amp;password={{ engine_db_password }}|org.mariadb.jdbc.Driver</entry>
    <entry key="TenantConnectionString">jdbc:mysql://{{ cc_db_host }}/{{ engine_db_name }}?user={{ engine_db_username }}&amp;password={{ engine_db_password }}|org.mariadb.jdbc.Driver</entry>
  </src>

  <entry key="xAPIFilesPath">{{ content_root }}/xapi</entry>
  {% if S3ObjectStorageEnabled is defined and S3ObjectStorageEnabled %}
  <!-- S3StreamingFileStore -->
  <entry key="AwsSecretId">{{ S3FileStorageAwsId }}</entry>
  <entry key="AwsSecretKey">{{ S3FileStorageAwsKey }}</entry>
  <entry key="S3RegionName">{{ S3FileStorageRegion }}</entry>
  <entry key="S3BucketName">{{ S3FileStorageBucket }}</entry>
  <!-- End S3StreamingFileStore -->
  {% endif %}
</properties>
